<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"/>
	<title>Usuarios</title>
	
	<!-- <link rel="stylesheet" type="text/css" href="css/user.css" /> -->
</h:head>
<h:body>

<h:form>
<h3>Filter</h3>
<div>
    <p:inputText value="#{usuarioBean.filtro}" style="width:600px"/>
    <p:commandButton value="Search" id="search" action="#{usuarioBean.listUsers(usuarioBean.filtro)}" style="margin-right:20px;" ajax="false" />
</div>
<h3>User list</h3>
<p:dataTable var="u" value="#{usuarioBean.listUsers(usuarioBean.filtro)}">
  
  <p:column headerText="Id">
    <h:outputText value="#{u.id}"/>
  </p:column>
  <p:column headerText="Username">
    <h:outputText value="#{u.username}"/>
  </p:column>
  <p:column headerText="Password">
    <h:outputText value="#{u.password}"/>
  </p:column>
  <p:column headerText="Enabled">
  	<p:selectBooleanButton id="value1" value="#{u.isEnabled}" onLabel="Yes" offLabel="No" style="width:80px" /><font></font>
  </p:column>
  <p:column headerText="Register Date"><br/>
    <h:outputText value="#{u.registerDate}"/>
  </p:column>
  <p:column headerText="Name">
    <h:outputText value="#{u.name}"/>
  </p:column>
  <p:column headerText="Surname">
    <h:outputText value="#{u.surname}"/>
  </p:column>
  <p:column headerText="Email">
    <h:outputText value="#{u.email}"/>
  </p:column>
  <p:column headerText="Phone">
    <h:outputText value="#{u.phone}"/>    
  </p:column>
  <p:column headerText="Actions">
    <p:commandButton value="Edit" icon="pi pi-home" action="#{clientesBean.editar(u)}"/>
    <p:commandButton value="Delete" icon="pi pi-home" action="#{usuarioBean.excluir(u.id)}" />
  </p:column>
</p:dataTable>
  
<h3>New User Registration</h3>
<div>
      <p:outputLabel value="Username: "/><br/>
      <p:inputText value="#{usuarioBean.usuario.username}"/>
</div>
<div>
      <p:outputLabel value="Password: "/><br/>
        <p:password id="password" value="#{usuarioBean.usuario.password}" feedback="true" />
</div>
<div>              
        <p:outputLabel for="isEnable" value="Is Enabled: "/><br/>
        <p:selectOneMenu id="isEnable" value="#{usuarioBean.usuario.isEnabled}" style="width:125px">
            <f:selectItem itemLabel="True" itemValue="true" />
            <f:selectItem itemLabel="False" itemValue="false" />
        </p:selectOneMenu>
</div>
<div>
	<p:outputLabel for="date" value="Date Register: "/><br/>
    <p:inputMask id="date" value="#{usuarioBean.usuario.registerDate}" mask="99/99/9999">
 		<f:convertDateTime pattern="dd/MM/yyyy" type="date" timeZone="GMT-3"/>
    </p:inputMask>
</div>
<div>
       <p:outputLabel value="Name: "/><br/>
      <p:inputText value="#{usuarioBean.usuario.name}"/>
</div>
<div>
      <p:outputLabel value="Surname: "/><br/>
      <p:inputText value="#{usuarioBean.usuario.surname}"/>
</div>
<div>
      <p:outputLabel value="Email: "/><br/>
      <p:inputText value="#{usuarioBean.usuario.email}"/>
</div>
<div>
      <p:outputLabel for="phone" value="Phone:" /><br/>
        <p:inputMask id="phone" value="#{usuarioBean.usuario.phone}" mask="(999) 999-9999"/>

</div>
<div style="padding-top: 10px;">
	<p:commandButton value="Register" id="register" action="#{usuarioBean.inserir()}" style="margin-right:20px;" ajax="false" />
</div>
  
</h:form>
</h:body>
</html>